<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This pallet’s configuration trait"><meta name="keywords" content="rust, rustlang, rust-lang, Config"><title>Config in pallet_mmr::pallet - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../pallet_mmr/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../pallet_mmr/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Config</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><ul><li><a href="#associatedtype.Hash">Hash</a></li><li><a href="#associatedtype.Hashing">Hashing</a></li><li><a href="#associatedtype.LeafData">LeafData</a></li><li><a href="#associatedtype.OnNewRoot">OnNewRoot</a></li><li><a href="#associatedtype.WeightInfo">WeightInfo</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#associated-const">Associated Constants</a></h3><ul><li><a href="#associatedconstant.INDEXING_PREFIX">INDEXING_PREFIX</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In pallet_mmr::pallet</a></h2><div id="sidebar-vars" data-name="Config" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../pallet_mmr/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../index.html">pallet_mmr</a>::<wbr><a href="index.html">pallet</a>::<wbr><a class="trait" href="#">Config</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#91-153">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait Config&lt;I:&nbsp;'static&nbsp;=&nbsp;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.unit.html">()</a>&gt;: <a class="trait" href="../../frame_system/pallet/trait.Config.html" title="trait frame_system::pallet::Config">Config</a> {
    type <a href="#associatedtype.Hashing" class="associatedtype">Hashing</a>: <a class="trait" href="../../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = &lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.Hash" class="associatedtype">Hash</a>: <a class="trait" href="../../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a> + <a class="trait" href="../../scale_info/trait.TypeInfo.html" title="trait scale_info::TypeInfo">TypeInfo</a> + <a class="trait" href="../../parity_scale_codec/max_encoded_len/trait.MaxEncodedLen.html" title="trait parity_scale_codec::max_encoded_len::MaxEncodedLen">MaxEncodedLen</a>;
    type <a href="#associatedtype.LeafData" class="associatedtype">LeafData</a>: <a class="trait" href="../../pallet_mmr_primitives/trait.LeafDataProvider.html" title="trait pallet_mmr_primitives::LeafDataProvider">LeafDataProvider</a>;
    type <a href="#associatedtype.OnNewRoot" class="associatedtype">OnNewRoot</a>: <a class="trait" href="../../pallet_mmr_primitives/trait.OnNewRoot.html" title="trait pallet_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;&lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;;
    type <a href="#associatedtype.WeightInfo" class="associatedtype">WeightInfo</a>: <a class="trait" href="../trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a>;

    const <a href="#associatedconstant.INDEXING_PREFIX" class="constant">INDEXING_PREFIX</a>: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;'static [</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This pallet’s configuration trait</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Hashing" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#112">source</a></div><h4 class="code-header">type <a href="#associatedtype.Hashing" class="associatedtype">Hashing</a>: <a class="trait" href="../../sp_runtime/traits/trait.Hash.html" title="trait sp_runtime::traits::Hash">Hash</a>&lt;Output = &lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;</h4></div></summary><div class="docblock"><p>A hasher type for MMR.</p>
<p>To construct trie nodes that result in merging (bagging) two peaks, depending on the
node kind we take either:</p>
<ul>
<li>The node (hash) itself if it’s an inner node.</li>
<li>The hash of SCALE-encoding of the leaf data if it’s a leaf node.</li>
</ul>
<p>Then we create a tuple of these two hashes, SCALE-encode it (concatenate) and
hash, to obtain a new MMR inner node - the new peak.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.Hash" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#118-129">source</a></div><h4 class="code-header">type <a href="#associatedtype.Hash" class="associatedtype">Hash</a>: <a class="trait" href="../../sp_runtime/traits/trait.Member.html" title="trait sp_runtime::traits::Member">Member</a> + <a class="trait" href="../../sp_runtime/traits/trait.MaybeSerializeDeserialize.html" title="trait sp_runtime::traits::MaybeSerializeDeserialize">MaybeSerializeDeserialize</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/convert/trait.AsMut.html" title="trait core::convert::AsMut">AsMut</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/1.60.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="../../parity_scale_codec/codec/trait.Codec.html" title="trait parity_scale_codec::codec::Codec">Codec</a> + <a class="trait" href="../../parity_scale_codec/encode_like/trait.EncodeLike.html" title="trait parity_scale_codec::encode_like::EncodeLike">EncodeLike</a> + <a class="trait" href="../../scale_info/trait.TypeInfo.html" title="trait scale_info::TypeInfo">TypeInfo</a> + <a class="trait" href="../../parity_scale_codec/max_encoded_len/trait.MaxEncodedLen.html" title="trait parity_scale_codec::max_encoded_len::MaxEncodedLen">MaxEncodedLen</a></h4></div></summary><div class="docblock"><p>The hashing output type.</p>
<p>This type is actually going to be stored in the MMR.
Required to be provided again, to satisfy trait bounds for storage items.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.LeafData" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#141">source</a></div><h4 class="code-header">type <a href="#associatedtype.LeafData" class="associatedtype">LeafData</a>: <a class="trait" href="../../pallet_mmr_primitives/trait.LeafDataProvider.html" title="trait pallet_mmr_primitives::LeafDataProvider">LeafDataProvider</a></h4></div></summary><div class="docblock"><p>Data stored in the leaf nodes.</p>
<p>The <a href="../../pallet_mmr_primitives/trait.LeafDataProvider.html">LeafData</a> is responsible for returning the entire
leaf data that will be inserted to the MMR.
<a href="../../pallet_mmr_primitives/trait.LeafDataProvider.html">LeafDataProvider</a>s can be composed into tuples to put
multiple elements into the tree. In such a case it might be worth using
<a href="../../pallet_mmr_primitives/struct.Compact.html" title="primitives::Compact">primitives::Compact</a> to make MMR proof for one element of the tuple leaner.</p>
<p>Note that the leaf at each block MUST be unique. You may want to include a block hash or
block number as an easiest way to ensure that.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.OnNewRoot" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#149">source</a></div><h4 class="code-header">type <a href="#associatedtype.OnNewRoot" class="associatedtype">OnNewRoot</a>: <a class="trait" href="../../pallet_mmr_primitives/trait.OnNewRoot.html" title="trait pallet_mmr_primitives::OnNewRoot">OnNewRoot</a>&lt;&lt;Self as <a class="trait" href="trait.Config.html" title="trait pallet_mmr::pallet::Config">Config</a>&lt;I&gt;&gt;::<a class="associatedtype" href="trait.Config.html#associatedtype.Hash" title="type pallet_mmr::pallet::Config::Hash">Hash</a>&gt;</h4></div></summary><div class="docblock"><p>A hook to act on the new MMR root.</p>
<p>For some applications it might be beneficial to make the MMR root available externally
apart from having it in the storage. For instance you might output it in the header
digest (see <a href="../../frame_system/pallet/struct.Pallet.html#method.deposit_log" title="frame_system::Pallet::deposit_log"><code>frame_system::Pallet::deposit_log</code></a>) to make it available for Light
Clients. Hook complexity should be <code>O(1)</code>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedtype.WeightInfo" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#152">source</a></div><h4 class="code-header">type <a href="#associatedtype.WeightInfo" class="associatedtype">WeightInfo</a>: <a class="trait" href="../trait.WeightInfo.html" title="trait pallet_mmr::WeightInfo">WeightInfo</a></h4></div></summary><div class="docblock"><p>Weights for this pallet.</p>
</div></details></div><h2 id="associated-const" class="small-section-header">Associated Constants<a href="#associated-const" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedconstant.INDEXING_PREFIX" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/pallet_mmr/lib.rs.html#101">source</a></div><h4 class="code-header">const <a href="#associatedconstant.INDEXING_PREFIX" class="constant">INDEXING_PREFIX</a>: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;'static [</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a></h4></div></summary><div class="docblock"><p>Prefix for elements stored in the Off-chain DB via Indexing API.</p>
<p>Each node of the MMR is inserted both on-chain and off-chain via Indexing API.
The former does not store full leaf content, just it’s compact version (hash),
and some of the inner mmr nodes might be pruned from on-chain storage.
The latter will contain all the entries in their full form.</p>
<p>Each node is stored in the Off-chain DB under key derived from the
<a href="trait.Config.html#associatedconstant.INDEXING_PREFIX" title="Self::INDEXING_PREFIX"><code>Self::INDEXING_PREFIX</code></a> and it’s in-tree index (MMR position).</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/pallet_mmr/pallet/trait.Config.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="pallet_mmr" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>